<div class="dashboard-container">
    
    <!-- menu de acciones -->
    <div class="quick-actions">
        <a routerLink="/games" class="action-card">
            <mat-icon>casino</mat-icon>
            <span>Juegos</span>
            <h6>(Este es un link para probar el 404)</h6>
        </a>
        <a routerLink="/categories" class="action-card">
            <mat-icon>category</mat-icon>
            <span>Categorías</span>
        </a>
        <a routerLink="/clients" class="action-card">
            <mat-icon>people</mat-icon>
            <span>Clientes</span>
        </a>
        <a routerLink="/loans" class="action-card">
            <mat-icon>menu_book</mat-icon>
            <span>Préstamos</span>
        </a>
    </div>
        
    <!-- metricas cards -->
    <div class="metrics-section">
        <h2>Resumen de Actividad</h2>
        <div class="metrics-container">
            <div class="metric-card">
                <div class="metric-value">{{totalGames}}</div>
                <div class="metric-label">
                    <mat-icon>casino</mat-icon>
                    <span>Juegos</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-value">{{totalClients}}</div>
                <div class="metric-label">
                    <mat-icon>people</mat-icon>
                    <span>Clientes</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-value">{{totalLoans}}</div>
                <div class="metric-label">
                    <mat-icon>menu_book</mat-icon>
                    <span>Préstamos</span>
                </div>
            </div>
            
            <div class="metric-card active">
                <div class="metric-value">{{activeLoans}}</div>
                <div class="metric-label">
                    <mat-icon>hourglass_empty</mat-icon>
                    <span>Activos</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="info-panels">
        <!-- Juegos más populares -->
        <div class="info-panel">
            <h3>Nuestros Juegos más Populares</h3>
            <br/>
            <div class="category-list">
                <div class="category-item" *ngFor="let game of popularGames">
                    <div class="category-name">{{game.title}} <small>(+{{game.age}})</small></div>
                    <div class="category-bar">
                        <div class="bar-fill" [style.width.%]="game.percentage / 2"></div>
                    </div>
                    <div class="category-count">{{game.loanCount}} préstamos</div>
                </div>
                <div class="category-item" *ngIf="popularGames.length === 0">
                    <div class="category-name">No hay datos de préstamos disponibles</div>
                </div>
            </div>
        </div>
        
        <!--prestamos recientes -->
        <div class="info-panel">
            <h3>Préstamos Recientes</h3>
            <div class="loan-list">
                <div class="loan-item" *ngFor="let loan of recentLoans">
                    <div class="loan-game">{{loan.game}}</div>
                    <div class="loan-client">{{loan.client}}</div>
                    <div class="loan-date">{{loan.date | date:'dd/MM/yyyy'}} → {{loan.returnDate | date:'dd/MM/yyyy'}}</div>
                </div>
            </div>
        </div>
    </div>
</div>